[gd_scene load_steps=20 format=3 uid="uid://0vqxkwa3nw8q"]

[ext_resource type="Script" path="res://Camera3D.gd" id="1_kwj0e"]
[ext_resource type="Script" path="res://skillcon.gd" id="2_5udsu"]
[ext_resource type="PackedScene" uid="uid://cqpofk77rradg" path="res://player.tscn" id="2_bypwp"]
[ext_resource type="FontFile" uid="uid://cjvipsrbvu6ay" path="res://m5x7.ttf" id="2_cxpsj"]
[ext_resource type="PackedScene" uid="uid://bhek1084fhjrp" path="res://models/tree.glb" id="2_un76p"]
[ext_resource type="Texture2D" uid="uid://ni5tt4lreqwt" path="res://skills/explosion.png" id="3_i10dt"]
[ext_resource type="Script" path="res://hud/cash.gd" id="3_uvxae"]
[ext_resource type="PackedScene" uid="uid://dg0sv8bluatfq" path="res://coin.tscn" id="7_2u5dh"]
[ext_resource type="PackedScene" uid="uid://rxxo60itn26k" path="res://barracks.tscn" id="8_gqiu1"]

[sub_resource type="Theme" id="Theme_jrs6n"]
default_font = ExtResource("2_cxpsj")
default_font_size = 64

[sub_resource type="Gradient" id="Gradient_4ysq2"]
colors = PackedColorArray(0.696871, 0.696871, 0.696871, 0.623529, 1, 1, 1, 0.941176)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_jbc0w"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_y7qu2"]
width = 100
height = 100
color_ramp = SubResource("Gradient_4ysq2")
noise = SubResource("FastNoiseLite_jbc0w")

[sub_resource type="Gradient" id="Gradient_j7mj0"]
colors = PackedColorArray(0.642562, 0.642562, 0.642562, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ud7y6"]
noise_type = 2
seed = 23

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_t416j"]
color_ramp = SubResource("Gradient_j7mj0")
noise = SubResource("FastNoiseLite_ud7y6")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b6s6x"]
albedo_color = Color(0.0392157, 0.47451, 0.117647, 1)
albedo_texture = SubResource("NoiseTexture2D_t416j")

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_woxa1"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_qqc8i"]

[node name="main" type="Node3D"]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.707107, -0.579228, 0.40558, 0, 0.573576, 0.819152, -0.707107, -0.579228, 0.40558, 0, 30, 0)
fov = 50.0
size = 50.0
frustum_offset = Vector2(-0.5, -0.5)
script = ExtResource("1_kwj0e")

[node name="hud" type="CanvasLayer" parent="Camera3D"]

[node name="cash" type="RichTextLabel" parent="Camera3D/hud"]
offset_left = 1530.0
offset_top = 942.0
offset_right = 1706.0
offset_bottom = 1017.0
theme = SubResource("Theme_jrs6n")
text = "$ 500
"
script = ExtResource("3_uvxae")

[node name="skill1" type="ColorRect" parent="Camera3D/hud"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -308.0
offset_top = -130.0
offset_right = -208.0
offset_bottom = -30.0
grow_horizontal = 2
grow_vertical = 0
color = Color(0.270588, 0.262745, 0.262745, 1)
script = ExtResource("2_5udsu")

[node name="cd" type="TextureProgressBar" parent="Camera3D/hud/skill1"]
z_index = 1
layout_mode = 1
anchors_preset = -1
anchor_right = 1.055
anchor_bottom = 1.0
offset_left = 1.0
offset_top = -1.0
offset_right = -5.50001
offset_bottom = 1.0
max_value = 5.0
step = 0.0
value = 5.0
fill_mode = 4
texture_progress = SubResource("NoiseTexture2D_y7qu2")

[node name="Sprite2D" type="Sprite2D" parent="Camera3D/hud/skill1"]
position = Vector2(52, 47.5)
scale = Vector2(1.59375, 1.56452)
texture = ExtResource("3_i10dt")

[node name="skill2" type="ColorRect" parent="Camera3D/hud"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -189.0
offset_top = -130.0
offset_right = -89.0
offset_bottom = -30.0
grow_horizontal = 2
grow_vertical = 0
color = Color(0.270588, 0.262745, 0.262745, 1)

[node name="skill3" type="ColorRect" parent="Camera3D/hud"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -74.0
offset_top = -130.0
offset_right = 26.0
offset_bottom = -30.0
grow_horizontal = 2
grow_vertical = 0
color = Color(0.270588, 0.262745, 0.262745, 1)

[node name="skill4" type="ColorRect" parent="Camera3D/hud"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 42.0
offset_top = -130.0
offset_right = 142.0
offset_bottom = -30.0
grow_horizontal = 2
grow_vertical = 0
color = Color(0.270588, 0.262745, 0.262745, 1)

[node name="unit" parent="." instance=ExtResource("2_bypwp")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.77077, 1.00032, 0)

[node name="barracks" parent="." instance=ExtResource("8_gqiu1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.73634, 0.5113, 1.99151)

[node name="map" type="Node3D" parent="."]

[node name="floor" type="CSGBox3D" parent="map"]
transform = Transform3D(2.90126, 0, 0, 0, 2.90126, 0, 0, 0, 2.90126, 0.605544, -0.11648, 1.81915)
size = Vector3(27.5256, 0.1, 35.6407)
material = SubResource("StandardMaterial3D_b6s6x")

[node name="decoration" type="Node3D" parent="map"]

[node name="tree" parent="map/decoration" instance=ExtResource("2_un76p")]
transform = Transform3D(0.305585, 0, 0, 0, 0.305585, 0, 0, 0, 0.305585, -8.50738, 0, -6.51549)

[node name="tree2" parent="map/decoration" instance=ExtResource("2_un76p")]
transform = Transform3D(0.156266, 0, -0.262608, 0, 0.305585, 0, 0.262608, 0, 0.156266, -8.50738, 0, -1.77945)

[node name="tree3" parent="map/decoration" instance=ExtResource("2_un76p")]
transform = Transform3D(0.156266, 0, -0.262608, 0, 0.305585, 0, 0.262608, 0, 0.156266, -14.4437, 0, -10.4745)

[node name="north_wall" type="StaticBody3D" parent="map"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/north_wall"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -50)
shape = SubResource("WorldBoundaryShape3D_woxa1")

[node name="east_wall" type="StaticBody3D" parent="map"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/east_wall"]
transform = Transform3D(-4.37114e-08, -1, 4.37114e-08, 0, -4.37114e-08, -1, 1, -4.37114e-08, 1.91069e-15, 40.679, -1.77813e-06, 0.153511)
shape = SubResource("WorldBoundaryShape3D_woxa1")

[node name="west_wall" type="StaticBody3D" parent="map"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/west_wall"]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, -39.2079, 1.71383e-06, 0.153515)
shape = SubResource("WorldBoundaryShape3D_woxa1")

[node name="south_wall" type="StaticBody3D" parent="map"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/south_wall"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -1.29977e-07, 52.9735)
shape = SubResource("WorldBoundaryShape3D_woxa1")

[node name="sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.397356, 0.917665, 0, -0.917665, 0.397356, 0, 12.9529, 13.8341)
light_color = Color(1, 0.972549, 0.729412, 1)

[node name="moon" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.110318, -0.359919, 0.926438, 0.110329, 0.921932, 0.371306, -0.987754, 0.143175, -0.0619962, 15.3221, 12.9529, 13.8341)
light_color = Color(0.670588, 0.85098, 1, 1)
light_energy = 0.5

[node name="bedrock" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.199, 0)
collision_layer = 32769

[node name="CollisionShape3D" type="CollisionShape3D" parent="bedrock"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, 0)
shape = SubResource("WorldBoundaryShape3D_qqc8i")

[node name="coin" parent="." instance=ExtResource("7_2u5dh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.6646, 1, 19.7774)
